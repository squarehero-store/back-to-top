<script>
document.addEventListener('DOMContentLoaded', function() {
    // Create back-to-top button
    const backToTopButton = document.createElement('button');
    backToTopButton.id = 'backToTop';
    backToTopButton.innerHTML = `
        <svg width="50" height="50">
            <circle cx="25" cy="25" r="20" stroke="#0a1b50" stroke-width="4" fill="none" />
            <circle cx="25" cy="25" r="20" stroke="white" stroke-width="4" fill="none" stroke-dasharray="126" stroke-dashoffset="126" id="progressCircle" />
        </svg>
        &#8679;
    `;
    document.body.appendChild(backToTopButton);

    // Apply styles
    const styles = `
        #backToTop {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background-color: #0a1b50;
            color: white;
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            cursor: pointer;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        #backToTop svg {
            position: absolute;
            top: 0;
            left: 0;
            transform: rotate(-90deg);
        }
    `;
    const styleSheet = document.createElement("style");
    styleSheet.type = "text/css";
    styleSheet.innerText = styles;
    document.head.appendChild(styleSheet);

    const progressCircle = document.getElementById('progressCircle');
    const circumference = progressCircle.r.baseVal.value * 2 * Math.PI;
    progressCircle.style.strokeDasharray = `${circumference} ${circumference}`;

    function setProgress(percent) {
        const offset = circumference - percent / 100 * circumference;
        progressCircle.style.strokeDashoffset = offset;
    }

    window.addEventListener('scroll', () => {
        const scrollTotal = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        const scrollPosition = window.scrollY;
        const scrollPercent = (scrollPosition / scrollTotal) * 100;
        setProgress(scrollPercent);

        if (scrollPosition > 100) {
            backToTopButton.style.opacity = '1';
        } else {
            backToTopButton.style.opacity = '0';
        }
    });

    backToTopButton.addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    });
});
</script>